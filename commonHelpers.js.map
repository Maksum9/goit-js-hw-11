{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst fetchUsersBtn = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst textInput = document.querySelector('.text-input')\n\nconst modal = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n\n\nfetchUsersBtn.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const usersValue = textInput.value;\n  gallery.innerHTML = '';\n\n  textInput.value = '';\n  loader.style.display = 'block';\n\n  const searchParams = new URLSearchParams({\n  key: '41525979-544d9b4f8d317eee068e80d65',\n  q: usersValue,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true\n});\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then((response) => {\n    loader.style.display = 'none';\n    \n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n  .then((data) => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight'\n        });\n        return;\n    };\n      data.hits.map(image => {\n        const card = imageCard(image);\n        gallery.appendChild(card);\n      });\n    \n      modal.refresh();\n    })\n  .catch((error) => {\n\t\tconsole.error(error);\n  })\n});\n\nfunction imageCard(image) {\n  const card = document.createElement('div');\n\n  card.innerHTML = `\n    <a href=\"${image.largeImageURL}\">\n    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n    <div class=\"info\">\n    <div class=\"image-info\">\n    <span>Likes</span>\n    <span class=\"image-value\">${image.likes}</span></div>\n    <div class=\"image-info\">\n    <span>Views</span>\n    <span class=\"image-value\">${image.views}</span></div>\n    <div class=\"image-info\">\n    <span>Comments</span>\n    <span class=\"image-value\">${image.comments}</span></div>\n    <div class=\"image-info\">\n    <span>Downloads</span>\n    <span class=\"image-value\">${image.downloads}</span></div>\n    </div>\n  `;\n\n  return card;\n};"],"names":["fetchUsersBtn","gallery","textInput","modal","SimpleLightbox","loader","event","usersValue","searchParams","response","data","iziToast","image","card","imageCard","error"],"mappings":"6vBAKA,MAAMA,EAAgB,SAAS,cAAc,OAAO,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAQ,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EAC7CA,EAAO,MAAM,QAAU,OAGzBL,EAAc,iBAAiB,SAAWM,GAAU,CAClDA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAU,MAC7BD,EAAQ,UAAY,GAEpBC,EAAU,MAAQ,GAClBG,EAAO,MAAM,QAAU,QAEvB,MAAMG,EAAe,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEC,MAAM,4BAA4BC,GAAc,EAC7C,KAAMC,GAAa,CAGlB,GAFFJ,EAAO,MAAM,QAAU,OAEjB,CAACI,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACF,KAAMC,GAAS,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UACpB,CAAS,EACD,MAER,CAAMD,EAAK,KAAK,IAAIE,GAAS,CACrB,MAAMC,EAAOC,EAAUF,CAAK,EAC5BX,EAAQ,YAAYY,CAAI,CAChC,CAAO,EAEDV,EAAM,QAAO,CACnB,CAAK,EACF,MAAOY,GAAU,CAClB,QAAQ,MAAMA,CAAK,CACrB,CAAG,CACH,CAAC,EAED,SAASD,EAAUF,EAAO,CACxB,MAAMC,EAAO,SAAS,cAAc,KAAK,EAEzC,OAAAA,EAAK,UAAY;AAAA,eACJD,EAAM;AAAA,gBACLA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA,gCAIlBA,EAAM;AAAA;AAAA;AAAA,gCAGNA,EAAM;AAAA;AAAA;AAAA,gCAGNA,EAAM;AAAA;AAAA;AAAA,gCAGNA,EAAM;AAAA;AAAA,IAI7BC,CACT"}